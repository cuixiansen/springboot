/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2018-10-14 09:09:41 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class newshowcatebypage_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=utf-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n");
      out.write("<html>\r\n");
      out.write("\r\n");
      out.write("<meta charset=\"utf-8\">\r\n");
      out.write("    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n");
      out.write("    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n");
      out.write("\t<link href=\"css/bootstrap.min.css\" rel=\"stylesheet\">\r\n");
      out.write("\r\n");
      out.write("   \r\n");
      out.write("      <script src=\"javascript/jQuery-1.12.4.js\"></script>\r\n");
      out.write("      <script src=\"js/bootstrap.min.js\"></script>\r\n");
      out.write("      <!-- ===============  bootstrap-table插件使用   =========================== -->\r\n");
      out.write("<script src=\"javascript/table/bootstrap-table.js\"></script>\r\n");
      out.write("<link href=\"javascript/table/bootstrap-table.css\" rel=\"stylesheet\" />\r\n");
      out.write("<script src=\"javascript/table/locale/bootstrap-table-zh-CN.js\"></script>\r\n");
      out.write("      \r\n");
      out.write("<head>\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\r\n");
      out.write("<title>Insert title here</title>\r\n");
      out.write("</head>\r\n");
      out.write("\r\n");
      out.write("<body>\r\n");
      out.write("<!--  ======================== 目录搜索================== -->\r\n");
      out.write("      <ul class=\"nav navbar-nav\">\r\n");
      out.write("      <li class=\"active\"><a href=\"#\" data-toggle=\"modal\" data-target=\"#myModal1\" onclick=\"deldata()\">新增目录<span class=\"sr-only\"></span></a></li>\r\n");
      out.write("      \r\n");
      out.write("      </ul>\r\n");
      out.write("      <div class=\"navbar-form navbar-left\" role=\"search\">\r\n");
      out.write("      \r\n");
      out.write("      <input id=\"acaname\"  name=\"acaname\" type=\"text\" class=\"form-control\" placeholder=\"请输入要搜索的产品\"/>\r\n");
      out.write("      \r\n");
      out.write("    &nbsp;&nbsp;\r\n");
      out.write("\t\t<select id=\"cate\"  name=\"cate\" class=\"form-control\" style=\"color:gray\">\r\n");
      out.write("\t\t<option value=\"0\">请选择目录</option>\t\r\n");
      out.write("\t\t</select>&nbsp;&nbsp;\r\n");
      out.write("\t\t<input type=\"button\" class=\"btn btn-primary\" value=\"搜索产品\" onclick=\"searchcate()\" />\r\n");
      out.write("      \r\n");
      out.write("      </div>\r\n");
      out.write("      <!-- ===================目录显示表============= --> \r\n");
      out.write("<table id=\"mycatetable\"></table>\r\n");
      out.write("      <!-- ===================目录修改模太框============= --> \r\n");
      out.write("<!-- Modal -->\r\n");
      out.write("<div class=\"modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n");
      out.write("        <h4 class=\"modal-title\" id=\"myModalLabel\">修改目录</h4>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-body\">\r\n");
      out.write("   <form   id=\"categoryform\">\r\n");
      out.write("<table class=\"table table-hover table-condensed\" width=\"70%\">\r\n");
      out.write("<tr>\r\n");
      out.write("<td>目录id</td><td ><input type=\"text\" name=\"ctid\"  id=\"cid\" readonly=\"true\"/></td>\r\n");
      out.write("</tr>\r\n");
      out.write("<tr>\r\n");
      out.write("<td>类名</td><td><input type=\"text\" name=\"catename\"  id=\"catename\"  onblur=\"checkNameajax(this,'c_catename');\" /><span id=\"c_catename\"></span></td>\r\n");
      out.write("</tr>\r\n");
      out.write("<tr>\r\n");
      out.write("<td>备注</td><td><input type=\"text\" name=\"ctbeizhu\" id=\"catedesc\" onblur=\"checkdesc(this,'beizhu');\" /><span id=\"beizhu\"></span></td>\r\n");
      out.write("</tr>\r\n");
      out.write("<tr>\r\n");
      out.write("<td colspan=\"2\"><input type=\"reset\" value=\"数据重置\" onclick=\"resetall(2)\"/></td>\r\n");
      out.write("</tr>\r\n");
      out.write("\r\n");
      out.write("</table>\r\n");
      out.write("</form>\r\n");
      out.write("        \r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" id=\"anniu\" onclick=\"submitmodify()\">确定修改</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<!-- ============================增加表motaikuang============================= -->\r\n");
      out.write("<div class=\"modal fade\" id=\"myModal1\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n");
      out.write("        <h4 class=\"modal-title\" id=\"myModalLabel\">增加目录</h4>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-body\">\r\n");
      out.write("       <form  method=\"post\" id=\"caform\">\r\n");
      out.write("<table class=\"table table-hover table-condensed\" width=\"70%\">\r\n");
      out.write("\r\n");
      out.write("<tr>\r\n");
      out.write("<td>类别</td><td><input type=\"text\" name=\"catename1\"  id=\"kind\"  onblur=\"checkNameajax(this,'catenme1')\"/><span id=\"catenme1\"> </span></td>\r\n");
      out.write("</tr>\r\n");
      out.write("<tr>\r\n");
      out.write("<td>备注</td><td><input type=\"text\" name=\"catebeizhu1\"  id=\"desc\"  onblur=\"checkdesc(this,'beizhu1')\"/><span id=\"beizhu1\" > </span></td>\r\n");
      out.write("</tr>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<tr>\r\n");
      out.write("<td colspan=\"2\"><input type=\"button\" value=\"数据重置\" onclick=\"resetall(1)\"/></td>\r\n");
      out.write("</tr>\r\n");
      out.write("\r\n");
      out.write("</table>\r\n");
      out.write("</form>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\r\n");
      out.write("        <button type=\"button\"  id=\"anniu1\" class=\"btn btn-primary\" onclick=\"submitadd()\">确定提交</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("</body>\r\n");
      out.write("<!--======================= ajax使用bootStrapTable插件 ==============-->\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("//-----------==初始表===========-----------\r\n");
      out.write("$(\"#mycatetable\").bootstrapTable({\r\n");
      out.write("\turl : 'selectCateByPage',\r\n");
      out.write("\tmethod : 'get',\r\n");
      out.write("\t\t\r\n");
      out.write("     striped: true,                      //是否显示行间隔色\r\n");
      out.write("     cache: false,                       //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）\r\n");
      out.write("     pagination: true,                   //是否显示分页（*）\r\n");
      out.write("     sortable: false,                     //是否启用排序\r\n");
      out.write("     sortOrder: \"asc\",                   //排序方式\r\n");
      out.write("    // queryParams: oTableInit.queryParams,//传递参数（*）\r\n");
      out.write("     sidePagination: \"server\",           //分页方式：client客户端分页，server服务端分页（*）\r\n");
      out.write("     pageNumber:1,                       //初始化加载第一页，默认第一页\r\n");
      out.write("     pageSize: 5,                       //每页的记录行数（*）\r\n");
      out.write("     pageList: [5,10, 25, 50, 100],        //可供选择的每页的行数（*）\r\n");
      out.write("     \r\n");
      out.write("     showColumns: true,                  //是否显示所有的列\r\n");
      out.write("     showRefresh: true,                  //是否显示刷新按钮\r\n");
      out.write("     minimumCountColumns: 2,             //最少允许的列数\r\n");
      out.write("     clickToSelect: true,                //是否启用点击选中行\r\n");
      out.write("   \r\n");
      out.write("     columns: [ {\r\n");
      out.write("         field: 'cgID',\r\n");
      out.write("         title: '目录ID'\r\n");
      out.write("     }, {\r\n");
      out.write("         field: 'cg_name',\r\n");
      out.write("         title: '目录名称'\r\n");
      out.write("     }, {\r\n");
      out.write("         field: 'cg_desc',\r\n");
      out.write("         title: '说明'\r\n");
      out.write("     },{\r\n");
      out.write("    \t field: 'cgID',\r\n");
      out.write("         formatter: autoadd,\r\n");
      out.write("         title: '操作'\r\n");
      out.write("     }]\r\n");
      out.write("     \r\n");
      out.write(" });\r\n");
      out.write(" \r\n");
      out.write(" //post方法获得参数\r\n");
      out.write(" function queryParams(params) {  //bootstrapTable自带参数  \r\n");
      out.write("\t\t    var temp = {   //这里的键的名字和控制器的变量名必须一直，这边改动，控制器也需要改成一样的  \r\n");
      out.write("\t\t    \t\r\n");
      out.write("\t\t    \t\t\"caname\":$(\"#acaname\").val(),\r\n");
      out.write("\t\t    \t\t\"cid\":$(\"#cate\").val(),\r\n");
      out.write("\t\t    \t\t\r\n");
      out.write("\t\t    \t\t\"offset\" : this.pageNumber,\r\n");
      out.write("\t\t    \t\t\"limit\" : this.pageSize\r\n");
      out.write("\t\t    };  \r\n");
      out.write("\t\t    return temp;  \r\n");
      out.write("\t\t }\r\n");
      out.write("\r\n");
      out.write("//模糊查询----------------\r\n");
      out.write("function searchcate(){\r\n");
      out.write("\t/*$.ajax({\r\n");
      out.write("\t     url:\"puservice\",\r\n");
      out.write("\t     type:\"post\",\r\n");
      out.write("\t     data:{\r\n");
      out.write("\t    \t \"op\":\"getpubycondition\", \r\n");
      out.write("      \t  \"currentpage\":1,\r\n");
      out.write("      \t  \"pagesize\":4,\r\n");
      out.write("      \t  \"puname\":$(\"#apuname\").val(),\r\n");
      out.write("      \t  \"pid\":$(\"#pid\").val(),\r\n");
      out.write("      \t  \"cid\":$(\"#cate\").val()\r\n");
      out.write("\t    \t \r\n");
      out.write("\t    \t \r\n");
      out.write("\t    \t \r\n");
      out.write("\t     },\r\n");
      out.write("\t    success:function(msg){\r\n");
      out.write("\t    \talert(msg);\r\n");
      out.write("\t    \t}\r\n");
      out.write("\t \r\n");
      out.write("\t });*/\r\n");
      out.write("\t $(\"#mycatetable\").bootstrapTable('destroy')\r\n");
      out.write("\t$(\"#mycatetable\").bootstrapTable({\r\n");
      out.write("\t\t\turl : \"selectCateByconditionByPage\",\r\n");
      out.write("\t\t\tmethod : 'post',\r\n");
      out.write("\t\t\tcontentType:'application/x-www-form-urlencoded; charset=UTF-8',\r\n");
      out.write("\t\t     striped: true,                      //是否显示行间隔色\r\n");
      out.write("\t\t     cache: false,                       //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）\r\n");
      out.write("\t\t     pagination: true,                   //是否显示分页（*）\r\n");
      out.write("\t\t     sortable: false,                     //是否启用排序\r\n");
      out.write("\t\t     sortOrder: \"asc\",                   //排序方式\r\n");
      out.write("\t\t    queryParams: queryParams,//传递参数（*）\r\n");
      out.write("\t\t     sidePagination: \"server\",           //分页方式：client客户端分页，server服务端分页（*）\r\n");
      out.write("\t\t     pageNumber:1,                       //初始化加载第一页，默认第一页\r\n");
      out.write("\t\t     pageSize: 5,                       //每页的记录行数（*）\r\n");
      out.write("\t\t     pageList: [5,10, 25, 50, 100],        //可供选择的每页的行数（*）\r\n");
      out.write("\t\t     \r\n");
      out.write("\t\t     showColumns: true,                  //是否显示所有的列\r\n");
      out.write("\t\t     showRefresh: true,                  //是否显示刷新按钮\r\n");
      out.write("\t\t     minimumCountColumns: 2,             //最少允许的列数\r\n");
      out.write("\t\t     clickToSelect: true,                //是否启用点击选中行\r\n");
      out.write("\t\t     columns: [ {\r\n");
      out.write("\t\t         field: 'cgID',\r\n");
      out.write("\t\t         title: '目录ID'\r\n");
      out.write("\t\t     }, {\r\n");
      out.write("\t\t         field: 'cg_name',\r\n");
      out.write("\t\t         title: '目录名称'\r\n");
      out.write("\t\t     }, {\r\n");
      out.write("\t\t         field: 'cg_desc',\r\n");
      out.write("\t\t         title: '说明'\r\n");
      out.write("\t\t     },{\r\n");
      out.write("\t\t    \t field: 'cgID',\r\n");
      out.write("\t\t         formatter: autoadd,\r\n");
      out.write("\t\t         title: '操作'\r\n");
      out.write("\t\t     }]\r\n");
      out.write("\t\t   \r\n");
      out.write("\t\t });\r\n");
      out.write("\t \r\n");
      out.write("}\r\n");
      out.write("//操作方法\r\n");
      out.write("function autoadd(value, row ,index){\r\n");
      out.write("\t return \"<a calss='btn' onclick=del('\"+value+\"')>删除</a>&nbsp;&nbsp;&nbsp;&nbsp;\"+\r\n");
      out.write("\t \"<a calss='btn' data-toggle='modal' data-target='#myModal' onclick=modify('\"+value+\"')>修改</a>\"\r\n");
      out.write("}\r\n");
      out.write("//--------------------------删除方法----------------\r\n");
      out.write(" function del(id){\r\n");
      out.write("\t $.ajax({\r\n");
      out.write("\t     url:\"deleteCate\",\r\n");
      out.write("\t     type:\"post\",\r\n");
      out.write("\t     data:{\r\n");
      out.write("\t    \t    \"id\":id\t    \t  \r\n");
      out.write("\t     },\r\n");
      out.write("\t    success:function(msg){\r\n");
      out.write("\t    alert(msg)\r\n");
      out.write("\r\n");
      out.write("\t \t if(\"success\"==msg){\r\n");
      out.write("$(\"#mycatetable\").bootstrapTable(\"refresh\")\r\n");
      out.write("\t\t \t\t\r\n");
      out.write("\t\t  }else if(\"use\"==msg){\r\n");
      out.write("\t\t\t  alert(\"该目录已被使用无法删除\")\r\n");
      out.write("\t\t  } else{alert(\"删除失败\")}\r\n");
      out.write("\t   }\r\n");
      out.write("\t});   \r\n");
      out.write(" }\r\n");
      out.write(" \r\n");
      out.write("\t//初始化\r\n");
      out.write("\t\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl : \"selectAllCate\",\r\n");
      out.write("\t\ttype : \"post\",\r\n");
      out.write("\t\tdata : \"op=getallcate\",\r\n");
      out.write("\t\tsuccess : function(catelist) {\r\n");
      out.write("\r\n");
      out.write("\t\t\t//var cate = JSON.parse(catelist)\r\n");
      out.write("\r\n");
      out.write("\t\t\tfor (var i = 0; i < cate.length; i++) {\r\n");
      out.write("\t\t\t\tvar option = \"<option value='\"+catelist[i].cgID+\"'>\"\r\n");
      out.write("\t\t\t\t\t\t+ catelist[i].cg_name + \"</option>\"\r\n");
      out.write("\t\t\t\t$(\"#cate\").append($(option))\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//检查是否修改\r\n");
      out.write("\r\n");
      out.write("\tvar b = null;\r\n");
      out.write("\tvar c = null;\r\n");
      out.write("\r\n");
      out.write("\tfunction ismodify() {\r\n");
      out.write("\r\n");
      out.write("\t\tif (b == get(\"catename\").value && c == get(\"catedesc\").value)\r\n");
      out.write("\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\treturn true\r\n");
      out.write("\t\t} else {\r\n");
      out.write("\t\t\treturn false\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\t//修改的模态框初始化方法\r\n");
      out.write("\tfunction modify(id) {\r\n");
      out.write("\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl : \"findCateById\",\r\n");
      out.write("\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\tdata : {\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\"id\" : id\r\n");
      out.write("\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\tsuccess : function(a) {\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t//var a = JSON.parse(msg)\r\n");
      out.write("\t\t\t\t$(\"#cid\").val(a.cgID)\r\n");
      out.write("\t\t\t\t$(\"#catename\").val(a.cg_name)\r\n");
      out.write("\t\t\t\t$(\"#catedesc\").val(a.cg_desc)\r\n");
      out.write("\t\t\t\t$(\"#c_catename\").html(\"\")\r\n");
      out.write("\t\t\t\t$(\"#beizhu\").html(\"\")\r\n");
      out.write("\r\n");
      out.write("\t\t\t\tb = get(\"catename\").value\r\n");
      out.write("\t\t\t\tc = get(\"catedesc\").value\r\n");
      out.write("\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\r\n");
      out.write("\t}\r\n");
      out.write("\t//确定修改的方法\r\n");
      out.write("\tfunction submitmodify() {\r\n");
      out.write("\r\n");
      out.write("\t\tif (b == get(\"catename\").value) {\r\n");
      out.write("\t\t\tif (ismodify()) {\r\n");
      out.write("\t\t\t\talert(\"未做任何修改无法提交\")\r\n");
      out.write("\t\t\t} else {\r\n");
      out.write("\t\t\t\tpn = true;\r\n");
      out.write("\t\t\t\tcheckdesc(get(\"catedesc\"), \"beizhu\")\r\n");
      out.write("\t\t\t\tupdate();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\telse {\r\n");
      out.write("\t\t\tcheckNameajax(get(\"catename\"), \"c_catename\")\r\n");
      out.write("\r\n");
      out.write("\t\t\tcheckdesc(get(\"catedesc\"), \"beizhu\")\r\n");
      out.write("\t\t\tupdate()\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t}\r\n");
      out.write("\t//封装成一个方法，判断是否能够修改\r\n");
      out.write("\tfunction update() {\r\n");
      out.write("\t\tif (p1 && pn) {\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\turl : \"updateCate\",\r\n");
      out.write("\t\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\t\tdata : $(\"#categoryform\").serialize(),\r\n");
      out.write("\t\t\t\tsuccess : function(msg) {\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\tif (\"ok\" == msg) {\r\n");
      out.write("\t\t\t\t\t\talert(\"修改成功\")\r\n");
      out.write("\t\t\t\t\t\t$(\"#myModal\").modal(\"hide\")\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t$(\"#mycatetable\").bootstrapTable(\"refresh\")\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t} else if (\"未修改\" == msg) {\r\n");
      out.write("\t\t\t\t\t\talert(\"未作修改无法提交!\")\r\n");
      out.write("\t\t\t\t\t} else {\r\n");
      out.write("\t\t\t\t\t\talert(\"修改失败!\")\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\r\n");
      out.write("\t\t} else {\r\n");
      out.write("\r\n");
      out.write("\t\t\talert(\"请按要求填写数据\")\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t//增加时把原有的数据删除\r\n");
      out.write("\tfunction deldata() {\r\n");
      out.write("\t\tget(\"catenme1\").innerHTML = \"\";\r\n");
      out.write("\t\tget(\"beizhu1\").innerHTML = \"\";\r\n");
      out.write("\t\tget(\"desc\").value = \"\";\r\n");
      out.write("\t\tget(\"kind\").value = \"\"\r\n");
      out.write("\t}\r\n");
      out.write("\t//判断空行\r\n");
      out.write("\tfunction isnull() {\r\n");
      out.write("\t\tif (get(\"desc\").value == \"\" || get(\"kind\").value == \"\") {\r\n");
      out.write("\t\t\treturn true\r\n");
      out.write("\t\t} else {\r\n");
      out.write("\t\t\treturn false\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\t//确定增加----------------------\r\n");
      out.write("\tfunction submitadd() {\r\n");
      out.write("\t\tif (isnull()) {\r\n");
      out.write("\t\t\talert(\"存在空行，无法提交\")\r\n");
      out.write("\t\t} else {\r\n");
      out.write("\t\t\tcheckNameajax(get(\"kind\"), \"catenme1\")\r\n");
      out.write("\t\t\tcheckdesc(get(\"desc\"), \"beizhu1\")\r\n");
      out.write("\t\t\tif (p1 && pn) {\r\n");
      out.write("\t\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\turl : \"insertCate\",\r\n");
      out.write("\t\t\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\t\t\tdata : $(\"#caform\").serialize(),\r\n");
      out.write("\t\t\t\t\tsuccess : function(msg) {\r\n");
      out.write("                          alert(msg)\r\n");
      out.write("\t\t\t\t\t\tif (msg ==\"success\") {\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t$(\"#myModal1\").modal(\"hide\")\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t$(\"#mycatetable\").bootstrapTable(\"refresh\")\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t} else {\r\n");
      out.write("\t\t\t\t\t\t\talert(\"添加失败!请按要求输入数据\")\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t} else {\r\n");
      out.write("\t\t\t\talert(\"添加失败!请按要求输入数据\")\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t/*p1=false;\r\n");
      out.write("\t\t pn=false;\r\n");
      out.write("\t\t p2=false;*/\r\n");
      out.write("\r\n");
      out.write("\t}\r\n");
      out.write("\t//--------------ajax判断有无重名------------\r\n");
      out.write("\tvar xmlhttp;\r\n");
      out.write("\tif (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari\r\n");
      out.write("\t\txmlhttp = new XMLHttpRequest();\r\n");
      out.write("\t} else {// code for IE6, IE5\r\n");
      out.write("\t\txmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n");
      out.write("\t}\r\n");
      out.write("\tfunction checkNameajax(obj, i) {\r\n");
      out.write("\t\tvar caname = obj.value\r\n");
      out.write("\t\tvar p = get(i);\r\n");
      out.write("\t\t//$(\"#anniu1\").css(\"display\",\"none\");\r\n");
      out.write("\t\txmlhttp.open(\"GET\",\r\n");
      out.write("\t\t\t\t\"checkCanameByAjax?catename=\" + caname, true);\r\n");
      out.write("\t\txmlhttp.onreadystatechange = function() {\r\n");
      out.write("\t\t\tif (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n");
      out.write("\t\t\t\tvar f = xmlhttp.responseText;\r\n");
      out.write("\t\t\t\tif (f == \"true\") {\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\tcheckName(obj, i)\r\n");
      out.write("\t\t\t\t\tp2 = true;\r\n");
      out.write("\t\t\t\t\t//\t$(\"#anniu1\").css(\"display\",\"block\");\r\n");
      out.write("\t\t\t\t} else {\r\n");
      out.write("\t\t\t\t\tp2 = false\r\n");
      out.write("\t\t\t\t\tpn = false;\r\n");
      out.write("\t\t\t\t\t// $(\"#anniu1\").css(\"display\",\"block\");\r\n");
      out.write("\t\t\t\t\tp.innerHTML = \"<font color='red'> 重名,请重新输入</font>\"\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\txmlhttp.send();\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\tfunction get(id) {\r\n");
      out.write("\t\treturn document.getElementById(id);\r\n");
      out.write("\t}\r\n");
      out.write("\t//-----------------------------------=======正则表达式===============--------------\r\n");
      out.write("\tvar pn = false;\r\n");
      out.write("\tvar p1 = false;\r\n");
      out.write("\tvar p2 = false;\r\n");
      out.write("\tfunction get(id) {\r\n");
      out.write("\t\treturn document.getElementById(id);\r\n");
      out.write("\t}\r\n");
      out.write("\tfunction checkall(str, i) {\r\n");
      out.write("\t\tvar a = [ /^[\\u4e00-\\u9fa5_a-zA-Z]+$/,\r\n");
      out.write("\r\n");
      out.write("\t\t]\r\n");
      out.write("\t\treturn a[i].test(str)\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\tfunction checkName(obj, i) {\r\n");
      out.write("\r\n");
      out.write("\t\tvar p = get(i);\r\n");
      out.write("\r\n");
      out.write("\t\tpn = checkall(obj.value, 0)\r\n");
      out.write("\t\tif (pn) {\r\n");
      out.write("\t\t\tp.innerHTML = \"<font color='green'> 符合规则</font>\"\r\n");
      out.write("\t\t} else {\r\n");
      out.write("\r\n");
      out.write("\t\t\tp.innerHTML = \"<font color='red'> 必须是汉字或英文</font>\"\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t}\r\n");
      out.write("\tfunction checkdesc(obj, i) {\r\n");
      out.write("\r\n");
      out.write("\t\tvar p = get(i);\r\n");
      out.write("\r\n");
      out.write("\t\tp1 = checkall(obj.value, 0)\r\n");
      out.write("\t\tif (p1) {\r\n");
      out.write("\t\t\tp.innerHTML = \"<font color='green'> 符合规则</font>\"\r\n");
      out.write("\t\t} else {\r\n");
      out.write("\r\n");
      out.write("\t\t\tp.innerHTML = \"<font color='red'> 必须是汉字或英文</font>\"\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\tfunction resetall(op) {\r\n");
      out.write("\t\tif (op == 2) {\r\n");
      out.write("\t\t\tget(\"cid\").defaultValue = get(\"cid\").value\r\n");
      out.write("\t\t\tget(\"categoryform\").reset();\r\n");
      out.write("\t\t\tget(\"c_catename\").innerHTML = \"\";\r\n");
      out.write("\t\t\tget(\"beizhu\").innerHTML = \"\";\r\n");
      out.write("\t\t} else if (op == 1) {\r\n");
      out.write("\r\n");
      out.write("\t\t\tget(\"caform\").reset();\r\n");
      out.write("\t\t\tget(\"catenme1\").innerHTML = \"\";\r\n");
      out.write("\t\t\tget(\"beizhu1\").innerHTML = \"\";\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t}\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
